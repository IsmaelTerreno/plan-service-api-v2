## Hibernate JPA configuration------------------------------------------------------
spring.datasource.url=jdbc:postgresql://${HOST_DB_CONFIG}:${PORT_DB_CONFIG}/${DATABASE_NAME_DB_CONFIG}
spring.datasource.username=${USER_NAME_DB_CONFIG}
spring.datasource.password=${USER_PASSWORD_DB_CONFIG}
spring.jpa.show-sql=true
## Hibernate Properties
# The SQL dialect makes Hibernate generate better SQL for the chosen database in this case is Postgres DB.
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
# Enable Hibernate's automatic session context management to avoid
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
# Hibernate ddl auto (create, create-drop, validate, update)
# Using 'validate' because Flyway now manages the schema
# Hibernate will only validate that entities match the database schema
spring.jpa.hibernate.ddl-auto=validate
# Disable Hibernate's DDL generation (Flyway handles this)
spring.jpa.generate-ddl=false
## Hibernate JPA configuration------------------------------------------------------
## Flyway Database Migration configuration------------------------------------------
# Enable Flyway for automatic database migrations
spring.flyway.enabled=true
# Location of migration scripts
spring.flyway.locations=classpath:db/migration
# Baseline existing databases (important for production with existing data)
spring.flyway.baseline-on-migrate=true
# Baseline version (migrations below this are ignored on first run)
spring.flyway.baseline-version=0
# Validate migrations against the schema history
spring.flyway.validate-on-migrate=true
# Allow mixing transactional and non-transactional migrations
spring.flyway.mixed=false
# Fail on missing migrations
spring.flyway.fail-on-missing-locations=false
## Flyway Database Migration configuration------------------------------------------
## Web server configuration-----------------------------------------------------
# Use the env var SERVER_PORT_LISTENING to set the port
server.port=${SERVER_PORT_LISTENING}
# Use the env var CORS_ALLOW_ORIGINS to set the allowed origins.
cors.allowed.origins=${CORS_ALLOW_ORIGINS}
## Web server configuration-----------------------------------------------------
## Security configuration-------------------------------------------------------
# Use the env var JWT_SECRET to set the jwt secret.
jwt.secret.access=${JWT_SECRET_ACCESS}
jwt.secret.refresh=${JWT_SECRET_REFRESH}
jwt.url.endpoint=${JWT_URL_ENDPOINT}
## Security configuration-------------------------------------------------------
## Test E2E  configuration-------------------------------------------------------
username.test.e2e.client=${TEST_USER_NAME}
email.test.e2e.client=${TEST_USER_EMAIL}
password.test.e2e.client=${TEST_USER_PASSWORD}
## Test E2E  configuration-------------------------------------------------------
## RabbitMQ configuration-------------------------------------------------------
spring.rabbitmq.host=${RABBITMQ_HOST:localhost}
spring.rabbitmq.port=${RABBITMQ_PORT:5672}
spring.rabbitmq.username=${RABBITMQ_USERNAME:guest}
spring.rabbitmq.password=${RABBITMQ_PASSWORD:guest}
# Application queue names (map from legacy envs as needed)
app.amqp.queues.invoice-status-updates=${INVOICE_STATUS_ON_RELATED_PLANS_RABBITMQ_QUEUE_NAME:invoice-status-on-related-plans}
app.amqp.queues.plans-to-create=${PLANS_TO_CREATE_RABBITMQ_QUEUE_NAME:plans-to-create}
## RabbitMQ configuration-------------------------------------------------------
## OpenAPI / Swagger UI configuration------------------------------------------
# Serve Swagger UI at /doc (instead of the default /swagger-ui/index.html)
springdoc.swagger-ui.path=/doc
## OpenAPI / Swagger UI configuration------------------------------------------
## Logging configuration-----------------------------------------------------
# Log pattern with MDC correlation context
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} %5p [%X{correlationId:-NO_CORRELATION_ID}] [%X{userId:-}] [%X{invoiceId:-}] [%X{planId:-}] --- [%t] %-40.40logger{39} : %m%n
logging.level.com.remotejob.planservice=INFO
logging.level.org.springframework.amqp=INFO
# Log Flyway migrations for audit trail
logging.level.org.flywaydb=INFO
## Logging configuration-----------------------------------------------------